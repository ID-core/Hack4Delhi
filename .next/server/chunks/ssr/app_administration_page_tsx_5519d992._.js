module.exports=[84593,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(21937),e=a.i(95116),f=a.i(4699),f=f,g=a.i(11989),g=g,h=a.i(3314),i=a.i(60246),j=a.i(41961),k=a.i(46842),l=a.i(62213),l=l,m=a.i(92258),n=a.i(24987),o=a.i(41675),p=a.i(70106);let q=(0,p.default)("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);var r=a.i(97895);function s({nodes:a,currentUser:d}){let[e,f]=(0,c.useState)(null);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"space-y-4",children:a.map(a=>(0,b.jsx)(t,{node:a,currentUser:d,depth:0,onUserClick:f},a.user.id))}),e&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)("div",{className:"sticky top-0 bg-white border-b border-slate-200 p-6 flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-slate-900",children:e.name}),(0,b.jsx)("p",{className:"text-sm text-slate-600 mt-1",children:e.designation})]}),(0,b.jsx)("button",{onClick:()=>f(null),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:(0,b.jsx)(l.default,{className:"h-5 w-5 text-slate-600"})})]}),(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-xs text-slate-600 font-semibold",children:"Employee ID"}),(0,b.jsx)("p",{className:"text-sm text-slate-900",children:e.employeeId})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-xs text-slate-600 font-semibold",children:"Role"}),(0,b.jsx)("span",{className:(0,r.cn)("inline-block px-2.5 py-1 rounded-full text-xs font-semibold","admin"===e.role&&"bg-amber-100 text-amber-800","manager"===e.role&&"bg-blue-100 text-blue-800","hr"===e.role&&"bg-green-100 text-green-800","employee"===e.role&&"bg-slate-100 text-slate-800"),children:e.role.toUpperCase()})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-xs text-slate-600 font-semibold",children:"Department"}),(0,b.jsx)("p",{className:"text-sm text-slate-900",children:e.department})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-xs text-slate-600 font-semibold",children:"Joining Date"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(o.Calendar,{className:"h-4 w-4 text-slate-500"}),(0,b.jsx)("p",{className:"text-sm text-slate-900",children:new Date(e.joiningDate).toLocaleDateString()})]})]})]}),(0,b.jsxs)("div",{className:"border-t border-slate-200 pt-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Contact Information"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(m.Mail,{className:"h-4 w-4 text-slate-500"}),(0,b.jsx)("p",{className:"text-sm text-slate-900",children:e.email})]}),e.assignedLocation&&(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(n.MapPin,{className:"h-4 w-4 text-slate-500 mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-slate-900",children:e.assignedLocation.name}),(0,b.jsxs)("p",{className:"text-xs text-slate-600",children:[e.assignedLocation.lat.toFixed(4),", ",e.assignedLocation.lng.toFixed(4)]})]})]})]})]}),(0,b.jsxs)("div",{className:"border-t border-slate-200 pt-6",children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[(0,b.jsx)(q,{className:"h-5 w-5 text-blue-600"}),"Performance Overview"]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-xs text-blue-600 font-semibold mb-1",children:"Attendance"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-blue-900",children:"employee"===e.role?"92%":"95%"}),(0,b.jsx)("p",{className:"text-xs text-blue-700 mt-1",children:"Last 30 days"})]}),(0,b.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-xs text-green-600 font-semibold mb-1",children:"Performance"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-green-900",children:"admin"===e.role?"98%":"manager"===e.role?"95%":"hr"===e.role?"93%":"88%"}),(0,b.jsx)("p",{className:"text-xs text-green-700 mt-1",children:"Overall rating"})]}),(0,b.jsxs)("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-xs text-purple-600 font-semibold mb-1",children:"Tasks"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-purple-900",children:"employee"===e.role?"24/30":"hr"===e.role?"18/20":"12/15"}),(0,b.jsx)("p",{className:"text-xs text-purple-700 mt-1",children:"Completed"})]})]})]}),(0,b.jsxs)("div",{className:"border-t border-slate-200 pt-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Recent Activity"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-start gap-3 bg-slate-50 p-3 rounded-lg",children:[(0,b.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-1.5"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-sm text-slate-900 font-medium",children:"Checked in on time"}),(0,b.jsx)("p",{className:"text-xs text-slate-600",children:"Today at 9:00 AM"})]})]}),(0,b.jsxs)("div",{className:"flex items-start gap-3 bg-slate-50 p-3 rounded-lg",children:[(0,b.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-1.5"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-sm text-slate-900 font-medium",children:"Completed performance review"}),(0,b.jsx)("p",{className:"text-xs text-slate-600",children:"Yesterday"})]})]}),(0,b.jsxs)("div",{className:"flex items-start gap-3 bg-slate-50 p-3 rounded-lg",children:[(0,b.jsx)("div",{className:"w-2 h-2 bg-purple-500 rounded-full mt-1.5"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-sm text-slate-900 font-medium",children:"Updated profile information"}),(0,b.jsx)("p",{className:"text-xs text-slate-600",children:"2 days ago"})]})]})]})]}),(0,b.jsx)("div",{className:"border-t border-slate-200 pt-6",children:(0,b.jsx)("button",{onClick:()=>f(null),className:"w-full px-4 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Close Details"})})]})]})})]})}function t({node:a,currentUser:d,depth:e,onUserClick:l}){let[m,n]=(0,c.useState)(e<2),o=a.children.length>0;return(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[o?(0,b.jsx)("button",{onClick:()=>n(!m),className:"p-0.5 hover:bg-slate-100 rounded transition-colors",children:m?(0,b.jsx)(f.default,{className:"h-4 w-4 text-slate-600"}):(0,b.jsx)(g.default,{className:"h-4 w-4 text-slate-600"})}):(0,b.jsx)("div",{className:"w-5"}),(0,b.jsxs)("button",{onClick:()=>l(a.user),className:(0,r.cn)("flex-1 flex items-center gap-3 px-4 py-3 rounded-lg border transition-all hover:shadow-md","bg-white border-slate-200 hover:border-blue-300 hover:bg-blue-50",e>0&&"bg-slate-50","cursor-pointer text-left w-full"),children:[(a=>{switch(a){case"admin":return(0,b.jsx)(h.Shield,{className:"h-4 w-4 text-amber-600"});case"manager":return(0,b.jsx)(j.Briefcase,{className:"h-4 w-4 text-blue-600"});case"hr":return(0,b.jsx)(i.Users,{className:"h-4 w-4 text-green-600"});case"employee":return(0,b.jsx)(k.User,{className:"h-4 w-4 text-slate-600"});default:return null}})(a.user.role),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"font-semibold text-slate-900",children:a.user.name}),(0,b.jsx)("p",{className:"text-xs text-slate-600",children:a.user.designation})]}),(0,b.jsx)("span",{className:(0,r.cn)("px-2.5 py-1 rounded-full text-xs font-semibold",(a=>{switch(a){case"admin":return"bg-amber-100 text-amber-800";case"manager":return"bg-blue-100 text-blue-800";case"hr":return"bg-green-100 text-green-800";case"employee":return"bg-slate-100 text-slate-800";default:return"bg-gray-100 text-gray-800"}})(a.user.role)),children:a.user.role})]})]}),o&&m&&(0,b.jsx)("div",{className:"ml-6 border-l-2 border-slate-200 pl-0",children:(0,b.jsx)("div",{className:"space-y-2",children:a.children.map(a=>(0,b.jsx)(t,{node:a,currentUser:d,depth:e+1,onUserClick:l},a.user.id))})})]})}var u=a.i(40695),v=a.i(92e3);let w=(0,p.default)("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);var x=a.i(210),y=a.i(50944);function z(){let{user:a,isLoading:f}=(0,d.useAuth)(),g=(0,y.useRouter)(),h=(0,c.useMemo)(()=>!!a&&["admin","manager","hr"].includes(a.role),[a]),i=(0,c.useMemo)(()=>{if(!a)return[];let b=(c,d)=>e.mockUsers.filter(a=>(!d||a.role===d)&&(c?.role==="admin"?"manager"===a.role:c?.role==="manager"?"hr"===a.role&&a.managerId===c.id:c?.role==="hr"&&"employee"===a.role&&a.hrId===c.id)).map(c=>({user:c,children:"admin"===a.role||"manager"===a.role||"hr"===a.role?b(c):[]}));return"admin"===a.role?b(a,"manager"):"manager"===a.role?b(a,"hr"):"hr"===a.role?b(a,"employee"):[]},[a]);return f?(0,b.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,b.jsx)("div",{className:"text-slate-600",children:"Loading..."})}):h?(0,b.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,b.jsx)("div",{className:"border-b border-slate-200 bg-white p-4 px-8",children:(0,b.jsxs)(u.Button,{variant:"outline",onClick:()=>g.back(),className:"gap-2",children:[(0,b.jsx)(x.ArrowLeft,{className:"h-4 w-4"}),"Back"]})}),(0,b.jsx)("div",{className:"border-b border-slate-200 bg-white p-8",children:(0,b.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-slate-900",children:(a=>{switch(a){case"admin":return"System Administrator View";case"manager":return"Manager View";case"hr":return"HR Specialist View";default:return"Administration Dashboard"}})(a?.role||"")}),(0,b.jsx)("p",{className:"text-slate-600 mt-2",children:(a=>{switch(a){case"admin":return"View the complete organizational hierarchy: Managers, HRs, and Employees";case"manager":return"View your assigned HRs and their Employees";case"hr":return"View your assigned Employees";default:return""}})(a?.role||"")})]})})}),(0,b.jsx)("div",{className:"flex-1 overflow-auto bg-slate-50 p-8",children:(0,b.jsx)("div",{className:"max-w-7xl mx-auto",children:0===i.length?(0,b.jsxs)("div",{className:"bg-white rounded-lg border border-slate-200 p-12 text-center",children:[(0,b.jsx)(v.AlertCircle,{className:"h-12 w-12 text-slate-400 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"No Records Found"}),(0,b.jsx)("p",{className:"text-slate-600",children:a?.role==="hr"?"You have no employees assigned yet":a?.role==="manager"?"You have no HRs assigned yet":"No managers found in the system"})]}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-blue-600 text-sm font-semibold",children:"Role"}),(0,b.jsx)("p",{className:"text-lg font-bold text-blue-900 capitalize mt-1",children:a?.role})]}),(0,b.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-green-600 text-sm font-semibold",children:"You are viewing"}),(0,b.jsx)("p",{className:"text-lg font-bold text-green-900 mt-1",children:a?.role==="admin"?"All Managers":a?.role==="manager"?"Your HRs":"Your Employees"})]}),(0,b.jsxs)("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-purple-600 text-sm font-semibold",children:"Total Count"}),(0,b.jsx)("p",{className:"text-lg font-bold text-purple-900 mt-1",children:i.reduce((a,b)=>{let c=a=>1+a.children.reduce((a,b)=>a+c(b),0);return a+c(b)},0)})]})]}),(0,b.jsx)("div",{className:"bg-white rounded-lg border border-slate-200 p-8",children:(0,b.jsx)(s,{nodes:i,currentUser:a})})]})})})]}):(0,b.jsx)("div",{className:"flex-1 flex items-center justify-center p-8",children:(0,b.jsx)("div",{className:"max-w-md",children:(0,b.jsxs)("div",{className:"rounded-lg border-2 border-red-200 bg-red-50 p-8 text-center space-y-4",children:[(0,b.jsx)(w,{className:"h-12 w-12 text-red-600 mx-auto"}),(0,b.jsx)("h1",{className:"text-xl font-bold text-red-900",children:"Access Denied"}),(0,b.jsx)("p",{className:"text-red-800",children:"You don't have permission to access the Administration dashboard. Only HR, Managers, and Admins can view this page."}),(0,b.jsx)("button",{onClick:()=>g.push("/dashboard"),className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Return to Dashboard"})]})})})}a.s(["default",()=>z],84593)}];

//# sourceMappingURL=app_administration_page_tsx_5519d992._.js.map